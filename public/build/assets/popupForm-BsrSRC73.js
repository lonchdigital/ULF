import{$ as o}from"./jquery-CqDs7TUd.js";o(document).ready(function(){o("#call-back-form").submit(function(r){r.preventDefault();let a=o(this),n=new FormData(this);a.find(".field-error").remove();let e=a.find(".btn-modal-send");l(function(t){t.success&&(a.find(".field-error").remove(),a.find('input[name="name_drive"]').val(""),a.find('input[name="phone_drive"]').val(""),a.find('input[type="checkbox"]').prop("checked",!1),e.addClass("active"),e.addClass("btn-modal-close"),e.text(`${translations.send}`),window.location.href=t.redirect)},function(t){e.removeClass("active"),e.removeClass("btn-modal-close"),e.text(`${translations.call_me_back}`),t.status===422?i(t.responseJSON.errors,n,a):console.error("[Email]: error during sending the message.")},n)});function i(r,a,n){for(let e in r)e!="agree_drive"&&n.find('input[name="'+e+'"]').val(""),n.find("."+e+"-field").after(`<div class="field-error field--help-info small-txt text-red mb-2">${r[e]}</div>`)}function l(r,a,n){const e=document.head.querySelector('meta[name="app-url"]').content;o.ajax({url:`${e}/feedback/call-back-form`,type:"post",data:n,contentType:!1,processData:!1,dataType:"json"}).done(function(t){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"submit_form_call_back_header"}),r(t)}).fail(function(t){a(t)})}});
